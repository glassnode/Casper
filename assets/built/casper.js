function addFormEventListener(e,t,n=null,r=null){const i=e.getElementById(t+"-form");var o=e.getElementById(t+"-email");const s=e.getElementById(t+"-submit");i&&i.addEventListener("submit",e=>{e.preventDefault();e=o.value;s.disabled=!0,fetch("https://forms.glassnode.com/api/subscribe",{body:JSON.stringify({email:e,type:"newsletter"}),headers:{"Content-Type":"application/json"},method:"POST"}).then(e=>(s.disabled=!1,e.ok&&n&&n(),e.json())).then(e=>{!e.ok&&r&&r(e.error)}).then(e=>{e&&console.error(e)})})}function createAfterSuccess(n){return()=>{const e=document.getElementById(n+"-main"),t=document.getElementById(n+"-success");e.classList.add("d-none"),t.classList.remove("d-none")}}function createAfterError(r){return e=>{const t=document.getElementById(r+"-warning"),n=document.getElementById(r+"-warning-msg");n.innerText=e,t.classList.remove("d-none")}}!function(o){"use strict";o.fn.fitVids=function(e){var t,n,i={customSelector:null,ignore:null};return document.getElementById("fit-vids-style")||(t=document.head||document.getElementsByTagName("head")[0],(n=document.createElement("div")).innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-container{flex-grow: 1;width:100%;}.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',t.appendChild(n.childNodes[1])),e&&o.extend(i,e),this.each(function(){var e=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];i.customSelector&&e.push(i.customSelector);var r=".fitvidsignore";i.ignore&&(r=r+", "+i.ignore);e=o(this).find(e.join(","));(e=(e=e.not("object object")).not(r)).each(function(){var e,t,n=o(this);0<n.parents(r).length||"embed"===this.tagName.toLowerCase()&&n.parent("object").length||n.parent(".fluid-width-video-wrapper").length||(n.css("height")||n.css("width")||!isNaN(n.attr("height"))&&!isNaN(n.attr("width"))||(n.attr("height",9),n.attr("width",16)),e=("object"===this.tagName.toLowerCase()||n.attr("height")&&!isNaN(parseInt(n.attr("height"),10))?parseInt(n.attr("height"),10):n.height())/(isNaN(parseInt(n.attr("width"),10))?n.width():parseInt(n.attr("width"),10)),n.attr("name")||(t="fitvid"+o.fn.fitVids._count,n.attr("name",t),o.fn.fitVids._count++),n.wrap('<div class="fluid-width-video-container"><div class="fluid-width-video-wrapper"></div></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*e+"%"),n.removeAttr("height").removeAttr("width"))})})},o.fn.fitVids._count=0}(window.jQuery||window.Zepto),function(e,t){var n="glassnode.dark-mode",r="dark-mode",e=e.matchMedia("(prefers-color-scheme: dark)"),i=t.querySelector("html"),t=t.querySelector(".js-toggle-mode");"true"!==localStorage.getItem(n)&&!e.matches||i.classList.toggle(r),t.addEventListener("click",()=>{localStorage.setItem(n,!i.classList.contains(r)),i.classList.toggle(r)})}(window,document),function(t,n){var r,i,o,s,d,a,c,l=n.querySelector("link[rel=next]");function m(){if(404===this.status)return t.removeEventListener("scroll",h),void t.removeEventListener("resize",f);this.response.querySelectorAll("article.post-card").forEach(function(e){r.appendChild(n.importNode(e,!0))});var e=this.response.querySelector("link[rel=next]");e?l.href=e.href:(t.removeEventListener("scroll",h),t.removeEventListener("resize",f)),c=n.documentElement.scrollHeight,s=o=!1}function e(){var e;s||(d+a<=c-i?o=!1:(s=!0,(e=new t.XMLHttpRequest).responseType="document",e.addEventListener("load",m),e.open("GET",l.href),e.send(null)))}function u(){o||t.requestAnimationFrame(e),o=!0}function h(){d=t.scrollY,u()}function f(){a=t.innerHeight,c=n.documentElement.scrollHeight,u()}!l||(r=n.querySelector(".post-feed"))&&(s=o=!(i=300),d=t.scrollY,a=t.innerHeight,c=n.documentElement.scrollHeight,t.addEventListener("scroll",h,{passive:!0}),t.addEventListener("resize",f),u())}(window,document),function(t){var n="newsletterFloatBannerHidden",e="true"===localStorage.getItem(n);let r=t.querySelector(".newsletter-banner");if(!e&&r){r.classList.remove("d-none");let e=t.querySelector(".newsletter-banner__dismiss button");e.addEventListener("click",()=>{r.classList.add("d-none"),localStorage.setItem(n,"true")})}}((window,document)),function(t){["newsletter-post-card","newsletter-banner"].map(e=>{addFormEventListener(t,e,createAfterSuccess(e),createAfterError(e))})}((window,document));
//# sourceMappingURL=casper.js.map